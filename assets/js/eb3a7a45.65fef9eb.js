"use strict";(self.webpackChunkln_vortex=self.webpackChunkln_vortex||[]).push([[509],{3905:(t,e,l)=>{l.d(e,{Zo:()=>k,kt:()=>c});var n=l(7294);function a(t,e,l){return e in t?Object.defineProperty(t,e,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[e]=l,t}function u(t,e){var l=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),l.push.apply(l,n)}return l}function d(t){for(var e=1;e<arguments.length;e++){var l=null!=arguments[e]?arguments[e]:{};e%2?u(Object(l),!0).forEach((function(e){a(t,e,l[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(l)):u(Object(l)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(l,e))}))}return t}function r(t,e){if(null==t)return{};var l,n,a=function(t,e){if(null==t)return{};var l,n,a={},u=Object.keys(t);for(n=0;n<u.length;n++)l=u[n],e.indexOf(l)>=0||(a[l]=t[l]);return a}(t,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(n=0;n<u.length;n++)l=u[n],e.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(t,l)&&(a[l]=t[l])}return a}var o=n.createContext({}),s=function(t){var e=n.useContext(o),l=e;return t&&(l="function"==typeof t?t(e):d(d({},e),t)),l},k=function(t){var e=s(t.components);return n.createElement(o.Provider,{value:e},t.children)},i={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},p=n.forwardRef((function(t,e){var l=t.components,a=t.mdxType,u=t.originalType,o=t.parentName,k=r(t,["components","mdxType","originalType","parentName"]),p=s(l),c=a,A=p["".concat(o,".").concat(c)]||p[c]||i[c]||u;return l?n.createElement(A,d(d({ref:e},k),{},{components:l})):n.createElement(A,d({ref:e},k))}));function c(t,e){var l=arguments,a=e&&e.mdxType;if("string"==typeof t||a){var u=l.length,d=new Array(u);d[0]=p;var r={};for(var o in e)hasOwnProperty.call(e,o)&&(r[o]=e[o]);r.originalType=t,r.mdxType="string"==typeof t?t:a,d[1]=r;for(var s=2;s<u;s++)d[s]=l[s];return n.createElement.apply(null,d)}return n.createElement.apply(null,l)}p.displayName="MDXCreateElement"},4575:(t,e,l)=>{l.r(e),l.d(e,{assets:()=>o,contentTitle:()=>d,default:()=>i,frontMatter:()=>u,metadata:()=>r,toc:()=>s});var n=l(7462),a=(l(7294),l(3905));const u={},d="Vortex API 1.0.0 documentation",r={unversionedId:"asyncapi",id:"asyncapi",title:"Vortex API 1.0.0 documentation",description:"Table of Contents",source:"@site/docs/asyncapi.md",sourceDirName:".",slug:"/asyncapi",permalink:"/docs/asyncapi",draft:!1,editUrl:"https://github.com/ln-vortex/ln-vortex/docs/asyncapi.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Protocol Documentation",permalink:"/docs/ProtocolDocumentation"}},o={},s=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Channels",id:"channels",level:2},{value:"Channel Parameters",id:"channel-parameters",level:4},{value:"<code>subscribe</code> /rounds/:chain_hash",id:"subscribe-roundschain_hash",level:3},{value:"Message",id:"message",level:4},{value:"Message <code>roundParameters</code>",id:"message-roundparameters",level:5},{value:"Payload",id:"payload",level:5},{value:"Examples of payload",id:"examples-of-payload",level:6},{value:"Message <code>feeRateHint</code>",id:"message-feeratehint",level:5},{value:"Payload",id:"payload-1",level:5},{value:"Examples of payload",id:"examples-of-payload-1",level:6},{value:"Channel Parameters",id:"channel-parameters-1",level:4},{value:"<code>publish</code> /register/:round_id",id:"publish-registerround_id",level:3},{value:"Message",id:"message-1",level:4},{value:"Message <code>registerInputs</code>",id:"message-registerinputs",level:5},{value:"Payload",id:"payload-2",level:5},{value:"Examples of payload",id:"examples-of-payload-2",level:6},{value:"Message <code>signedPsbt</code>",id:"message-signedpsbt",level:5},{value:"Payload",id:"payload-3",level:5},{value:"Examples of payload",id:"examples-of-payload-3",level:6},{value:"Message <code>cancelRegistration</code>",id:"message-cancelregistration",level:5},{value:"Payload",id:"payload-4",level:5},{value:"Examples of payload",id:"examples-of-payload-4",level:6},{value:"<code>subscribe</code> /register/:round_id",id:"subscribe-registerround_id",level:3},{value:"Message",id:"message-2",level:4},{value:"Message <code>nonceMessage</code>",id:"message-noncemessage",level:5},{value:"Payload",id:"payload-5",level:5},{value:"Examples of payload",id:"examples-of-payload-5",level:6},{value:"Message <code>askInputs</code>",id:"message-askinputs",level:5},{value:"Payload",id:"payload-6",level:5},{value:"Examples of payload",id:"examples-of-payload-6",level:6},{value:"Message <code>blindedSignature</code>",id:"message-blindedsignature",level:5},{value:"Payload",id:"payload-7",level:5},{value:"Examples of payload",id:"examples-of-payload-7",level:6},{value:"Message <code>unsignedPsbt</code>",id:"message-unsignedpsbt",level:5},{value:"Payload",id:"payload-8",level:5},{value:"Examples of payload",id:"examples-of-payload-8",level:6},{value:"Message <code>signedTransaction</code>",id:"message-signedtransaction",level:5},{value:"Payload",id:"payload-9",level:5},{value:"Examples of payload",id:"examples-of-payload-9",level:6},{value:"Message <code>restartRound</code>",id:"message-restartround",level:5},{value:"Payload",id:"payload-10",level:5},{value:"Examples of payload",id:"examples-of-payload-10",level:6}],k={toc:s};function i(t){let{components:e,...l}=t;return(0,a.kt)("wrapper",(0,n.Z)({},k,l,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"vortex-api-100-documentation"},"Vortex API 1.0.0 documentation"),(0,a.kt)("h2",{id:"table-of-contents"},"Table of Contents"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#channels"},"Channels"))),(0,a.kt)("h2",{id:"channels"},"Channels"),(0,a.kt)("a",{name:"channel-/rounds/:chain_hash"}),(0,a.kt)("h4",{id:"channel-parameters"},"Channel Parameters"),(0,a.kt)("h3",{id:"subscribe-roundschain_hash"},(0,a.kt)("inlineCode",{parentName:"h3"},"subscribe")," /rounds/:chain_hash"),(0,a.kt)("p",null,"Peers can subscribe to this channel to receive information about coordinator rounds."),(0,a.kt)("h4",{id:"message"},"Message"),(0,a.kt)("p",null,"Accepts ",(0,a.kt)("strong",{parentName:"p"},"one of")," the following messages:"),(0,a.kt)("h5",{id:"message-roundparameters"},"Message ",(0,a.kt)("inlineCode",{parentName:"h5"},"roundParameters")),(0,a.kt)("p",null,"Details of the round"),(0,a.kt)("h5",{id:"payload"},"Payload"),(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",null,"Name"),(0,a.kt)("th",null,"Type"),(0,a.kt)("th",null,"Description"),(0,a.kt)("th",null,"Accepted values"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",null,"version "),(0,a.kt)("td",null,"integer"),(0,a.kt)("td",null," "),(0,a.kt)("td",null,(0,a.kt)("code",null,"0"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"roundId "),(0,a.kt)("td",null,"string"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The ID of the round")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"amount "),(0,a.kt)("td",null,"integer"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The amount of the target utxo")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"coordinatorFee "),(0,a.kt)("td",null,"integer"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The fee the coordinator takes per new entrant")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"publicKey "),(0,a.kt)("td",null,"string"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The public key of the coordinator")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"time "),(0,a.kt)("td",null,"integer"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The time the round begins")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"inputType "),(0,a.kt)("td",null,"string"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The type of input that must be registered")),(0,a.kt)("td",null,(0,a.kt)("code",null,"witness_v0_keyhash"),", ",(0,a.kt)("code",null,"witness_v0_scripthash"),", ",(0,a.kt)("code",null,"witness_v1_taproot"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"outputType "),(0,a.kt)("td",null,"string"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The type of output that must be registered")),(0,a.kt)("td",null,(0,a.kt)("code",null,"witness_v0_keyhash"),", ",(0,a.kt)("code",null,"witness_v0_scripthash"),", ",(0,a.kt)("code",null,"witness_v1_taproot"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"changeType "),(0,a.kt)("td",null,"string"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The type of change output that must be registered")),(0,a.kt)("td",null,(0,a.kt)("code",null,"witness_v0_keyhash"),", ",(0,a.kt)("code",null,"witness_v0_scripthash"),", ",(0,a.kt)("code",null,"witness_v1_taproot"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"minPeers "),(0,a.kt)("td",null,"integer"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The minimum number of peers that must register")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"maxPeers "),(0,a.kt)("td",null,"integer"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The maximum number of peers that can register")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"status "),(0,a.kt)("td",null,"string"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The status of the round")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"title "),(0,a.kt)("td",null,"string"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The title of the round")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"feeRate "),(0,a.kt)("td",null,"integer"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The expected fee rate of the round in sats/vbyte")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))))),(0,a.kt)("h6",{id:"examples-of-payload"},"Examples of payload"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "version": 0,\n  "roundId": "030756a3dbf5eea34295337a73368905cc60321e9e47cdad6e091e26d311f4ac",\n  "amount": 40000,\n  "coordinatorFee": 1000,\n  "publicKey": "03b9cbebc3e2a1d4b8b2e5f2fbaa1e2d1f3e4a5b6c7d8e9f0a1b2c3d4e5f6a7b8c",\n  "time": 1619222400,\n  "inputType": "witness_v0_keyhash",\n  "outputType": "witness_v1_taproot",\n  "changeType": "witness_v0_keyhash",\n  "minPeers": 2,\n  "maxPeers": 10,\n  "status": "Example Status",\n  "title": "Example Title",\n  "feeRate": 2\n}\n')),(0,a.kt)("h5",{id:"message-feeratehint"},"Message ",(0,a.kt)("inlineCode",{parentName:"h5"},"feeRateHint")),(0,a.kt)("p",null,"A new fee rate hint for the round"),(0,a.kt)("h5",{id:"payload-1"},"Payload"),(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",null,"Name"),(0,a.kt)("th",null,"Type"),(0,a.kt)("th",null,"Description"),(0,a.kt)("th",null,"Accepted values"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",null,"feeRate "),(0,a.kt)("td",null,"integer"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The new expected fee rate of the round in sats/vbyte")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))))),(0,a.kt)("h6",{id:"examples-of-payload-1"},"Examples of payload"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "feeRate": 2\n}\n')),(0,a.kt)("a",{name:"channel-/register/:round_id"}),(0,a.kt)("h4",{id:"channel-parameters-1"},"Channel Parameters"),(0,a.kt)("h3",{id:"publish-registerround_id"},(0,a.kt)("inlineCode",{parentName:"h3"},"publish")," /register/:round_id"),(0,a.kt)("p",null,"Message sent by peers to register for round."),(0,a.kt)("h4",{id:"message-1"},"Message"),(0,a.kt)("p",null,"Accepts ",(0,a.kt)("strong",{parentName:"p"},"one of")," the following messages:"),(0,a.kt)("h5",{id:"message-registerinputs"},"Message ",(0,a.kt)("inlineCode",{parentName:"h5"},"registerInputs")),(0,a.kt)("p",null,"The inputs the peer wants to register"),(0,a.kt)("h5",{id:"payload-2"},"Payload"),(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",null,"Name"),(0,a.kt)("th",null,"Type"),(0,a.kt)("th",null,"Description"),(0,a.kt)("th",null,"Accepted values"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",null,"inputs "),(0,a.kt)("td",null,"array(object)"),(0,a.kt)("td",null,(0,a.kt)("p",null,"Array of inputs to register")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"inputs.inputProof "),(0,a.kt)("td",null,"string"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The proof that the input is owned by the peer")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"inputs.outputReference "),(0,a.kt)("td",null,"object"),(0,a.kt)("td",null," "),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"inputs.outputReference.outPoint "),(0,a.kt)("td",null,"object"),(0,a.kt)("td",null," "),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"inputs.outputReference.outPoint.txId "),(0,a.kt)("td",null,"string"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The transaction ID of the output")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"inputs.outputReference.outPoint.vout "),(0,a.kt)("td",null,"integer"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The index of the output")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"inputs.outputReference.output "),(0,a.kt)("td",null,"object"),(0,a.kt)("td",null," "),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"inputs.outputReference.output.value "),(0,a.kt)("td",null,"integer"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The value of the output")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"inputs.outputReference.output.scriptPubKey "),(0,a.kt)("td",null,"string"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The scriptPubKey of the output")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"blindedOutput "),(0,a.kt)("td",null,"string"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The blinded output of the peer")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"changeSpkOpt "),(0,a.kt)("td",null,"string"),(0,a.kt)("td",null,(0,a.kt)("p",null,"Optional, the scriptPubKey of the change output")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))))),(0,a.kt)("h6",{id:"examples-of-payload-2"},"Examples of payload"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "inputs": [\n    {\n      "inputProof": "304402204d00239127580f515b4f0b00585525546b248d95e7eb35aef4da525658f901f402206a37d04aa970af1f9999a58ac10bebfc22c578110791b56c68ffc4de08ecbc63010279a147dc244c1747356c65c5c8f5c0d429dfac936ab2c83d819fc53fed634bb7",\n      "outputReference": {\n        "outPoint": {\n          "txId": "030756a3dbf5eea34295337a73368905cc60321e9e47cdad6e091e26d311f4ac",\n          "vout": 0\n        },\n        "output": {\n          "value": 40000,\n          "scriptPubKey": "0014b9cbebc3e2a1d4b8b2e5f2fbaa1e2d1f3e4a5b6c7"\n        }\n      }\n    }\n  ],\n  "blindedOutput": "02b9cbebc3e2a1d4b8b2e5f2fbaa1e2d1f3e4a5b6c7d8e9f0a1b2c3d4e5f6a7b8c",\n  "changeSpkOpt": "0014b9cbebc3e2a1d4b8b2e5f2fbaa1e2d1f3e4a5b6c7"\n}\n')),(0,a.kt)("h5",{id:"message-signedpsbt"},"Message ",(0,a.kt)("inlineCode",{parentName:"h5"},"signedPsbt")),(0,a.kt)("p",null,"PSBT signed by the peer"),(0,a.kt)("h5",{id:"payload-3"},"Payload"),(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",null,"Name"),(0,a.kt)("th",null,"Type"),(0,a.kt)("th",null,"Description"),(0,a.kt)("th",null,"Accepted values"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",null,"signedPsbt "),(0,a.kt)("td",null,"string"),(0,a.kt)("td",null,(0,a.kt)("p",null,"PSBT signed by the peer")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))))),(0,a.kt)("h6",{id:"examples-of-payload-3"},"Examples of payload"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "signedPsbt": "cHNidP8BAJoCAAAAAljoeiG1ba8MI76OcHBFbDNvfLqlyHV5JPVFiHuyq911AAAAAAD/////g40EJ9DsZQpoqka7CwmK6kQiwHGyyng1Kgd5WdB86h0BAAAAAP////8CcKrwCAAAAAAWABTYXCtx0AYLCcmIauuBXlCZHdoSTQDh9QUAAAAAFgAUAK6pouXw+HaliN9VRuh0LR2HAI8AAAAAAAEAuwIAAAABqtc5MQGL0l+ErkALaISL4J23BurCrBgpi6vucatlb4sAAAAASEcwRAIgWPb8fGoz4bMVSNSByCbAFb0wE1qtQs1neQ2rZtKtJDsCIEoc7SYExnNbY5PltBaR3XiwDwxZQvufdRhW+qk4FX26Af7///8CgPD6AgAAAAAXqRQPuUY0IWlrgsgzryQceMF9295JNIfQ8gonAQAAABepFCnKdPigj4GZlCgYXJe12FLkBj9hh2UAAAABBEdSIQKVg785rgpgl0etGZrd1jT6YQhVnWxc05tMIYPxq5bgfyEC2rYf9JoU22p9ArDNH7t4/EsYMStbTlTa5Nui+/71NtdSriIGApWDvzmuCmCXR60Zmt3WNPphCFWdbFzTm0whg/GrluB/ENkMak8AAACAAAAAgAAAAIAiBgLath/0mhTban0CsM0fu3j8SxgxK1tOVNrk26L7/vU21xDZDGpPAAAAgAAAAIABAACAAAEBIADC6wsAAAAAF6kUt/X69A49QKWkWbHbNTXyty+pIeiHAQQiACCMI1MXN0O1ld+0oHtyuo5C43l9p06H/n2ddJfjsgKJAwEFR1IhAwidwQx6xttU+RMpr2FzM9s4jOrQwjH3IzedG5kDCwLcIQI63ZBPPW3PWd25BrDe4jUpt/+57VDl6GFRkmhgIh8Oc1KuIgYCOt2QTz1tz1nduQaw3uI1Kbf/ue1Q5ehhUZJoYCIfDnMQ2QxqTwAAAIAAAACAAwAAgCIGAwidwQx6xttU+RMpr2FzM9s4jOrQwjH3IzedG5kDCwLcENkMak8AAACAAAAAgAIAAIAAIgIDqaTDf1mW06ol26xrVwrwZQOUSSlCRgs1R1Ptnuylh3EQ2QxqTwAAAIAAAACABAAAgAAiAgJ/Y5l1fS7/VaE2rQLGhLGDi2VW5fG2s0KCqUtrUAUQlhDZDGpPAAAAgAAAAIAFAACAAA&#61;&#61;"\n}\n')),(0,a.kt)("h5",{id:"message-cancelregistration"},"Message ",(0,a.kt)("inlineCode",{parentName:"h5"},"cancelRegistration")),(0,a.kt)("p",null,"Indicates that the peer wants to cancel registration for the round"),(0,a.kt)("h5",{id:"payload-4"},"Payload"),(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",null,"Name"),(0,a.kt)("th",null,"Type"),(0,a.kt)("th",null,"Description"),(0,a.kt)("th",null,"Accepted values"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",null,"nonce "),(0,a.kt)("td",null,"string"),(0,a.kt)("td",null,(0,a.kt)("p",null,"Received nonce from the coordinator")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"roundId "),(0,a.kt)("td",null,"string"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The ID of the round")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))))),(0,a.kt)("h6",{id:"examples-of-payload-4"},"Examples of payload"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "nonce": "08469f5f8161f406a133a679d247afb71ecce631f91b997ed826751389879550",\n  "roundId": "030756a3dbf5eea34295337a73368905cc60321e9e47cdad6e091e26d311f4ac"\n}\n')),(0,a.kt)("h3",{id:"subscribe-registerround_id"},(0,a.kt)("inlineCode",{parentName:"h3"},"subscribe")," /register/:round_id"),(0,a.kt)("p",null,"Messages received during the coordinator round."),(0,a.kt)("h4",{id:"message-2"},"Message"),(0,a.kt)("p",null,"Accepts ",(0,a.kt)("strong",{parentName:"p"},"one of")," the following messages:"),(0,a.kt)("h5",{id:"message-noncemessage"},"Message ",(0,a.kt)("inlineCode",{parentName:"h5"},"nonceMessage")),(0,a.kt)("p",null,"The nonce message sent by the coordinator"),(0,a.kt)("h5",{id:"payload-5"},"Payload"),(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",null,"Name"),(0,a.kt)("th",null,"Type"),(0,a.kt)("th",null,"Description"),(0,a.kt)("th",null,"Accepted values"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",null,"schnorrNonce "),(0,a.kt)("td",null,"string"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The schnorr nonce of the peer used for blind signing")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))))),(0,a.kt)("h6",{id:"examples-of-payload-5"},"Examples of payload"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "schnorrNonce": "08469f5f8161f406a133a679d247afb71ecce631f91b997ed826751389879550"\n}\n')),(0,a.kt)("h5",{id:"message-askinputs"},"Message ",(0,a.kt)("inlineCode",{parentName:"h5"},"askInputs")),(0,a.kt)("p",null,"The coordinator asking peers to register inputs"),(0,a.kt)("h5",{id:"payload-6"},"Payload"),(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",null,"Name"),(0,a.kt)("th",null,"Type"),(0,a.kt)("th",null,"Description"),(0,a.kt)("th",null,"Accepted values"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",null,"roundId "),(0,a.kt)("td",null,"string"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The ID of the round")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"inputFee "),(0,a.kt)("td",null,"integer"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The fee the peer has to pay for each input")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"outputFee "),(0,a.kt)("td",null,"integer"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The fee the peer has to pay for each output")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"changeOutputFee "),(0,a.kt)("td",null,"integer"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The fee the peer has to pay for each change output")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))))),(0,a.kt)("h6",{id:"examples-of-payload-6"},"Examples of payload"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "roundId": "030756a3dbf5eea34295337a73368905cc60321e9e47cdad6e091e26d311f4ac",\n  "inputFee": 1000,\n  "outputFee": 1000,\n  "changeOutputFee": 1000\n}\n')),(0,a.kt)("h5",{id:"message-blindedsignature"},"Message ",(0,a.kt)("inlineCode",{parentName:"h5"},"blindedSignature")),(0,a.kt)("p",null,"The blind signature from the coordinator"),(0,a.kt)("h5",{id:"payload-7"},"Payload"),(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",null,"Name"),(0,a.kt)("th",null,"Type"),(0,a.kt)("th",null,"Description"),(0,a.kt)("th",null,"Accepted values"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",null,"blindOutputSig "),(0,a.kt)("td",null,"string"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The blind signature from the coordinator")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))))),(0,a.kt)("h6",{id:"examples-of-payload-7"},"Examples of payload"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "blindOutputSig": "4006D4D069F3B51E968762FF8074153E278E5BCD221AABE0743CA001B77E79F581863CCED9B25C6E7A0FED8EB6F393CD65CD7306D385DCF85CC6567DAA4E041B"\n}\n')),(0,a.kt)("h5",{id:"message-unsignedpsbt"},"Message ",(0,a.kt)("inlineCode",{parentName:"h5"},"unsignedPsbt")),(0,a.kt)("p",null,"PSBT of the transaction to sign"),(0,a.kt)("h5",{id:"payload-8"},"Payload"),(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",null,"Name"),(0,a.kt)("th",null,"Type"),(0,a.kt)("th",null,"Description"),(0,a.kt)("th",null,"Accepted values"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",null,"psbt "),(0,a.kt)("td",null,"string"),(0,a.kt)("td",null,(0,a.kt)("p",null,"PSBT of the transaction to sign")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))))),(0,a.kt)("h6",{id:"examples-of-payload-8"},"Examples of payload"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "psbt": "cHNidP8BAJoCAAAAAljoeiG1ba8MI76OcHBFbDNvfLqlyHV5JPVFiHuyq911AAAAAAD/////g40EJ9DsZQpoqka7CwmK6kQiwHGyyng1Kgd5WdB86h0BAAAAAP////8CcKrwCAAAAAAWABTYXCtx0AYLCcmIauuBXlCZHdoSTQDh9QUAAAAAFgAUAK6pouXw+HaliN9VRuh0LR2HAI8AAAAAAAEAuwIAAAABqtc5MQGL0l+ErkALaISL4J23BurCrBgpi6vucatlb4sAAAAASEcwRAIgWPb8fGoz4bMVSNSByCbAFb0wE1qtQs1neQ2rZtKtJDsCIEoc7SYExnNbY5PltBaR3XiwDwxZQvufdRhW+qk4FX26Af7///8CgPD6AgAAAAAXqRQPuUY0IWlrgsgzryQceMF9295JNIfQ8gonAQAAABepFCnKdPigj4GZlCgYXJe12FLkBj9hh2UAAAABBEdSIQKVg785rgpgl0etGZrd1jT6YQhVnWxc05tMIYPxq5bgfyEC2rYf9JoU22p9ArDNH7t4/EsYMStbTlTa5Nui+/71NtdSriIGApWDvzmuCmCXR60Zmt3WNPphCFWdbFzTm0whg/GrluB/ENkMak8AAACAAAAAgAAAAIAiBgLath/0mhTban0CsM0fu3j8SxgxK1tOVNrk26L7/vU21xDZDGpPAAAAgAAAAIABAACAAAEBIADC6wsAAAAAF6kUt/X69A49QKWkWbHbNTXyty+pIeiHAQQiACCMI1MXN0O1ld+0oHtyuo5C43l9p06H/n2ddJfjsgKJAwEFR1IhAwidwQx6xttU+RMpr2FzM9s4jOrQwjH3IzedG5kDCwLcIQI63ZBPPW3PWd25BrDe4jUpt/+57VDl6GFRkmhgIh8Oc1KuIgYCOt2QTz1tz1nduQaw3uI1Kbf/ue1Q5ehhUZJoYCIfDnMQ2QxqTwAAAIAAAACAAwAAgCIGAwidwQx6xttU+RMpr2FzM9s4jOrQwjH3IzedG5kDCwLcENkMak8AAACAAAAAgAIAAIAAIgIDqaTDf1mW06ol26xrVwrwZQOUSSlCRgs1R1Ptnuylh3EQ2QxqTwAAAIAAAACABAAAgAAiAgJ/Y5l1fS7/VaE2rQLGhLGDi2VW5fG2s0KCqUtrUAUQlhDZDGpPAAAAgAAAAIAFAACAAA&#61;&#61;"\n}\n')),(0,a.kt)("h5",{id:"message-signedtransaction"},"Message ",(0,a.kt)("inlineCode",{parentName:"h5"},"signedTransaction")),(0,a.kt)("p",null,"Fully constructed signed transaction"),(0,a.kt)("h5",{id:"payload-9"},"Payload"),(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",null,"Name"),(0,a.kt)("th",null,"Type"),(0,a.kt)("th",null,"Description"),(0,a.kt)("th",null,"Accepted values"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",null,"transaction "),(0,a.kt)("td",null,"string"),(0,a.kt)("td",null,(0,a.kt)("p",null,"Fully constructed signed transaction")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))))),(0,a.kt)("h6",{id:"examples-of-payload-9"},"Examples of payload"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "transaction": "0200000000010258e87a21b56daf0c23be8e7070456c336f7cbaa5c8757924f545887bb2abdd7500000000da00473044022074018ad4180097b873323c0015720b3684cc8123891048e7dbcd9b55ad679c99022073d369b740e3eb53dcefa33823c8070514ca55a7dd9544f157c167913261118c01483045022100f61038b308dc1da865a34852746f015772934208c6d24454393cd99bdf2217770220056e675a675a6d0a02b85b14e5e29074d8a25a9b5760bea2816f661910a006ea01475221029583bf39ae0a609747ad199addd634fa6108559d6c5cd39b4c2183f1ab96e07f2102dab61ff49a14db6a7d02b0cd1fbb78fc4b18312b5b4e54dae4dba2fbfef536d752aeffffffff838d0427d0ec650a68aa46bb0b098aea4422c071b2ca78352a077959d07cea1d01000000232200208c2353173743b595dfb4a07b72ba8e42e3797da74e87fe7d9d7497e3b2028903ffffffff0270aaf00800000000160014d85c2b71d0060b09c9886aeb815e50991dda124d00e1f5050000000016001400aea9a2e5f0f876a588df5546e8742d1d87008f000400473044022062eb7a556107a7c73f45ac4ab5a1dddf6f7075fb1275969a7f383efff784bcb202200c05dbb7470dbf2f08557dd356c7325c1ed30913e996cd3840945db12228da5f01473044022065f45ba5998b59a27ffe1a7bed016af1f1f90d54b3aa8f7450aa5f56a25103bd02207f724703ad1edb96680b284b56d4ffcb88f7fb759eabbe08aa30f29b851383d20147522103089dc10c7ac6db54f91329af617333db388cead0c231f723379d1b99030b02dc21023add904f3d6dcf59ddb906b0dee23529b7ffb9ed50e5e86151926860221f0e7352ae00000000"\n}\n')),(0,a.kt)("h5",{id:"message-restartround"},"Message ",(0,a.kt)("inlineCode",{parentName:"h5"},"restartRound")),(0,a.kt)("p",null,"Indicates that the round should be restarted, new round params and nonce are provided so peer can register inputs"),(0,a.kt)("h5",{id:"payload-10"},"Payload"),(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",null,"Name"),(0,a.kt)("th",null,"Type"),(0,a.kt)("th",null,"Description"),(0,a.kt)("th",null,"Accepted values"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",null,"roundParameters "),(0,a.kt)("td",null,"object"),(0,a.kt)("td",null," "),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"roundParameters.version "),(0,a.kt)("td",null,"integer"),(0,a.kt)("td",null," "),(0,a.kt)("td",null,(0,a.kt)("code",null,"0"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"roundParameters.roundId "),(0,a.kt)("td",null,"string"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The ID of the round")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"roundParameters.amount "),(0,a.kt)("td",null,"integer"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The amount of the target utxo")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"roundParameters.coordinatorFee "),(0,a.kt)("td",null,"integer"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The fee the coordinator takes per new entrant")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"roundParameters.publicKey "),(0,a.kt)("td",null,"string"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The public key of the coordinator")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"roundParameters.time "),(0,a.kt)("td",null,"integer"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The time the round begins")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"roundParameters.inputType "),(0,a.kt)("td",null,"string"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The type of input that must be registered")),(0,a.kt)("td",null,(0,a.kt)("code",null,"witness_v0_keyhash"),", ",(0,a.kt)("code",null,"witness_v0_scripthash"),", ",(0,a.kt)("code",null,"witness_v1_taproot"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"roundParameters.outputType "),(0,a.kt)("td",null,"string"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The type of output that must be registered")),(0,a.kt)("td",null,(0,a.kt)("code",null,"witness_v0_keyhash"),", ",(0,a.kt)("code",null,"witness_v0_scripthash"),", ",(0,a.kt)("code",null,"witness_v1_taproot"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"roundParameters.changeType "),(0,a.kt)("td",null,"string"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The type of change output that must be registered")),(0,a.kt)("td",null,(0,a.kt)("code",null,"witness_v0_keyhash"),", ",(0,a.kt)("code",null,"witness_v0_scripthash"),", ",(0,a.kt)("code",null,"witness_v1_taproot"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"roundParameters.minPeers "),(0,a.kt)("td",null,"integer"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The minimum number of peers that must register")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"roundParameters.maxPeers "),(0,a.kt)("td",null,"integer"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The maximum number of peers that can register")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"roundParameters.status "),(0,a.kt)("td",null,"string"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The status of the round")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"roundParameters.title "),(0,a.kt)("td",null,"string"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The title of the round")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"roundParameters.feeRate "),(0,a.kt)("td",null,"integer"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The expected fee rate of the round in sats/vbyte")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"nonceMessage "),(0,a.kt)("td",null,"object"),(0,a.kt)("td",null," "),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))),(0,a.kt)("tr",null,(0,a.kt)("td",null,"nonceMessage.schnorrNonce "),(0,a.kt)("td",null,"string"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The schnorr nonce of the peer used for blind signing")),(0,a.kt)("td",null,(0,a.kt)("em",null,"Any"))))),(0,a.kt)("h6",{id:"examples-of-payload-10"},"Examples of payload"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "roundParams": {\n    "version": 0,\n    "roundId": "030756a3dbf5eea34295337a73368905cc60321e9e47cdad6e091e26d311f4ac",\n    "amount": 40000,\n    "coordinatorFee": 1000,\n    "publicKey": "03b9cbebc3e2a1d4b8b2e5f2fbaa1e2d1f3e4a5b6c7d8e9f0a1b2c3d4e5f6a7b8c",\n    "time": 1619222400,\n    "inputType": "witness_v0_keyhash",\n    "outputType": "witness_v1_taproot",\n    "changeType": "witness_v0_keyhash",\n    "minPeers": 2,\n    "maxPeers": 10,\n    "status": "Example Status",\n    "title": "Example Title",\n    "feeRate": 2\n  },\n  "nonceMessage": {\n    "schnorrNonce": "08469f5f8161f406a133a679d247afb71ecce631f91b997ed826751389879550"\n  }\n}\n')))}i.isMDXComponent=!0}}]);